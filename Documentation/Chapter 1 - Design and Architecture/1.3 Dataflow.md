###### [<< Capition](/Documentation/Capition.md)
###### [< 1.2 Usecase Diagram](/Documentation/Chapter%201%20-%20Design%20and%20Architecture/1.2%20Usecase%20Diagram.md)

## 1.3 Data flow

In the folowing image we present the data flow separated int primary, secondary and tertiary data flow. 

![Data flow](/Images/DataFlow.png)

Based on this information we defined message format: JSON. With teritary data flow it was defined the data class, that will be presented later, and json fromat.

1. Signal message is used to add a signal or update an existing signal:

```json
{
    "name": "...",
    "receivers": [...],
    "factor": ...,
    "offset": ...,
    "minimum": ...,
    "maximum": ...,
    "byte order": "...",
    "type": "...",
    "unit": "...",
    "safety function": "...",
    "value table": {
      "E2E": "...",
      "attributes": [...],
      "comment": "..."
    },
    "attributes": [...],
    "comment": "..."
}
```

2. The following JSON structure represents a message used to add a new message:

```json
message: {
  "name": "...",
  "type": "...",
  "ID": ...,
  "signals": [...],
  "transmitters": [...],
  "receivers": [...],
  "layout": "...",
  "attributes": [...],
  "comment": "..."
}
```

3. The following JSON structure represents a message used to add a new attribute:

```json
attribute: {
  "name": "...",
  "object type": "...",
  "value type": "...",
  "default value": "...",
  "minimum": ...,
  "maximum": ...,
  "comment": "..."
}
```

4. The following JSON structure represents a message used to add a new value table:

```json
value table: {
  "name": "...",
  "values": [...],
  "comment": "..."
}
```

5. The following JSON structure represents a message used to add a new network node:

```json
network node: {
  "id": "...",
  "type": "...",
  "name": "...",
  "baudrate": ...,
  "signals": [...],
  "transmitters": [...],
  "receivers": [...],
  "layout": "...",
  "attributes": [...],
  "comment": "..."
}
```

6. The following JSON structure represents a message used to upload a file:

```json
upload file:{
    "type": "...",
    "data": "..."
}
```

7. The following JSON structure represents a message used to offer suggestions:

```json
offer suggestions:{
    "type": "...",
    "data": [...]
}
```

8.  The following JSON structure represents a message used to selcet an option

```json
selcet an option:{
    "type": "...",
    "data": [...]
}
```

###### [1.4 Activity Diagram >](/Documentation/Chapter%201%20-%20Design%20and%20Architecture/1.4%20Activity%20Diagram.md)